# 抖音自动续火花工具

项目优化中 20250629

抖音自动续火花工具是一个 Python 程序，可以帮助用户自动向指定的抖音好友发送私信，保持互动关系不断。该工具支持多用户配置，可设置定时任务，非常适合需要维持抖音社交关系的用户使用。

## 功能特点

- 🔄 **自动续火花**：定期向好友发送私信，保持互动
- 👥 **多用户支持**：可配置多个不同用户账号
- ⏰ **定时任务**：支持每天定时自动发送消息
- 🍪 **Cookie 管理**：自动保存和使用登录信息
- 📱 **批量发送**：可同时给多个联系人发送消息
- 🔁 **重复执行**：支持指定次数重复发送
- 📊 **操作日志**：详细记录每一步操作结果

## 安装依赖

### 基本依赖

```bash
pip install selenium webdriver-manager schedule pyautogui
```

### Mac 系统额外依赖

```bash
pip install python3-xlib
brew install python-tk python-imaging
```

## 使用方法

1. 克隆或下载本仓库到本地
2. 安装依赖
3. 运行程序：`python xuhuohua.py`
4. 按照菜单提示进行操作

### 初次使用

1. 选择菜单中的 `5. 添加新用户`
2. 输入用户名称、联系人列表和要发送的消息
3. 选择是否立即登录，如果是，则会打开浏览器引导你登录抖音
4. 登录成功后会自动保存 Cookie，下次可以自动登录

### 菜单选项说明

- **立即执行续火花**：立即向当前用户的所有联系人发送消息
- **立即为所有用户执行续火花**：为所有配置的用户执行续火花操作
- **列出所有用户**：显示所有已配置的用户信息
- **切换用户**：切换当前活跃用户
- **添加新用户**：添加新的用户配置
- **编辑用户信息**：修改现有用户的配置
- **删除用户**：删除指定的用户配置
- **刷新 Cookie**：更新用户的登录状态
- **重复执行续火花**：指定次数重复执行续火花操作
- **启动定时任务**：启动每天自动发送消息的定时任务

## 用户配置说明

每个用户需要配置以下信息：

- **用户名称**：用于区分不同用户
- **联系人列表**：要发送消息的联系人名称列表
- **消息内容**：要发送的续火花消息
- **Cookie 路径**：保存登录信息的文件路径
- **私信按钮坐标**：抖音网页版私信按钮的屏幕坐标（根据屏幕分辨率调整）

## 注意事项

- 本工具依赖于屏幕分辨率和网页布局，如果抖音网页版界面发生变化，可能需要调整私信按钮坐标
- 建议将消息发送间隔设置得合理，以避免被系统判定为异常行为
- 本工具仅用于学习交流，请勿用于商业目的或违反平台规则的行为
- 使用前确保 Chrome 浏览器已安装

## 常见问题

**Q: 程序无法找到联系人怎么办？**  
A: 确保联系人名称正确，并检查是否已经成为抖音好友

**Q: 私信按钮点击失败怎么办？**  
A: 调整私信按钮坐标，使其适应你的屏幕分辨率和浏览器窗口大小

**Q: 如何设置不同的消息内容？**  
A: 在添加或编辑用户时，可以为每个用户设置不同的消息内容

## 贡献

欢迎提交 Pull Request 或 Issues 来帮助改进这个工具！

## 许可证

MIT
